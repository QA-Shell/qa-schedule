<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QA Scheduler</title>
  <style>
    :root {
      --color-white: rgba(255, 255, 255, 1);
      --color-black: rgba(0, 0, 0, 1);
      --color-cream-50: rgba(252, 252, 249, 1);
      --color-cream-100: rgba(255, 255, 253, 1);
      --color-gray-200: rgba(245, 245, 245, 1);
      --color-gray-300: rgba(167, 169, 169, 1);
      --color-gray-400: rgba(119, 124, 124, 1);
      --color-slate-500: rgba(98, 108, 113, 1);
      --color-brown-600: rgba(94, 82, 64, 1);
      --color-charcoal-700: rgba(31, 33, 33, 1);
      --color-charcoal-800: rgba(38, 40, 40, 1);
      --color-slate-900: rgba(19, 52, 59, 1);
      --color-teal-300: rgba(50, 184, 198, 1);
      --color-teal-400: rgba(45, 166, 178, 1);
      --color-teal-500: rgba(33, 128, 141, 1);
      --color-teal-600: rgba(29, 116, 128, 1);
      --color-teal-700: rgba(26, 104, 115, 1);
      --color-teal-800: rgba(41, 150, 161, 1);
      --color-red-400: rgba(255, 84, 89, 1);
      --color-red-500: rgba(192, 21, 47, 1);
      --color-orange-400: rgba(230, 129, 97, 1);
      --color-orange-500: rgba(168, 75, 47, 1);
      --color-bg-1: rgba(59, 130, 246, 0.08);
      --color-bg-2: rgba(245, 158, 11, 0.08);
      --color-bg-3: rgba(34, 197, 94, 0.08);
      --color-bg-4: rgba(239, 68, 68, 0.08);
      --color-bg-5: rgba(147, 51, 234, 0.08);
      --color-bg-6: rgba(249, 115, 22, 0.08);
      --color-bg-7: rgba(236, 72, 153, 0.08);
      --color-bg-8: rgba(6, 182, 212, 0.08);

      --color-background: var(--color-cream-50);
      --color-surface: var(--color-cream-100);
      --color-text: var(--color-slate-900);
      --color-text-secondary: var(--color-slate-500);
      --color-primary: var(--color-teal-500);
      --color-primary-hover: var(--color-teal-600);
      --color-primary-active: var(--color-teal-700);
      --color-secondary: rgba(94, 82, 64, 0.12);
      --color-secondary-hover: rgba(94, 82, 64, 0.2);
      --color-secondary-active: rgba(94, 82, 64, 0.25);
      --color-border: rgba(94, 82, 64, 0.2);
      --color-btn-primary-text: var(--color-cream-50);
      --color-card-border: rgba(94, 82, 64, 0.12);
      --color-card-border-inner: rgba(94, 82, 64, 0.12);
      --color-error: var(--color-red-500);
      --color-success: var(--color-teal-500);
      --color-warning: var(--color-orange-500);
      --color-info: var(--color-slate-500);

      --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
        BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      --font-size-base: 14px;
      --font-size-lg: 16px;
      --font-size-2xl: 20px;
      --font-size-3xl: 24px;
      --font-weight-semibold: 550;

      --space-4: 4px;
      --space-8: 8px;
      --space-12: 12px;
      --space-16: 16px;
      --space-24: 24px;

      --radius-base: 8px;
      --radius-lg: 12px;
      --radius-full: 9999px;

      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04),
        0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
        0 2px 4px -1px rgba(0, 0, 0, 0.02);
    }

    body {
      background: var(--color-background);
      color: var(--color-text);
      font-family: var(--font-family-base);
      margin: 0;
      min-height: 100vh;
    }

    .header {
      background: var(--color-surface);
      padding: var(--space-24) 0 var(--space-12) 0;
      text-align: center;
      box-shadow: var(--shadow-sm);
    }

    .header h1 {
      font-size: var(--font-size-3xl);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-8);
      margin-top: 0;
    }

    .tabs {
      display: flex;
      justify-content: center;
      gap: var(--space-4);
      background: var(--color-surface);
      border-radius: var(--radius-full);
      margin: 0 auto var(--space-24) auto;
      width: max-content;
      box-shadow: var(--shadow-sm);
      padding: var(--space-8);
    }

    .tab-btn {
      padding: var(--space-8) var(--space-16);
      background: none;
      border: none;
      color: var(--color-text);
      font-size: var(--font-size-lg);
      border-radius: var(--radius-full);
      cursor: pointer;
      transition: background 150ms;
    }

    .tab-btn.active,
    .tab-btn:focus {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      outline: none;
    }

    #tab-content {
      margin: 0 auto;
      max-width: 900px;
      padding: var(--space-16);
    }

    .day-tabs {
      display: flex;
      gap: var(--space-4);
      margin-bottom: var(--space-16);
      justify-content: flex-start;
      flex-wrap: wrap;
    }

    .day-btn {
      padding: var(--space-4) var(--space-12);
      border-radius: var(--radius-full);
      border: none;
      background: var(--color-bg-8);
      color: var(--color-primary);
      font-size: var(--font-size-base);
      cursor: pointer;
      transition: all 150ms;
    }

    .day-btn.active,
    .day-btn:focus {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
    }

    .table-wrap {
      overflow-x: auto;
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      background: var(--color-surface);
      box-shadow: var(--shadow-sm);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 400px;
    }

    thead {
      background: var(--color-bg-8);
    }

    th,
    td {
      padding: var(--space-8) var(--space-16);
      text-align: left;
    }

    th {
      color: var(--color-primary);
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-base);
    }

    tbody tr {
      background: var(--color-surface);
      transition: background 120ms;
    }

    tbody tr:nth-child(even) {
      background: var(--color-bg-1);
    }

    td a {
      color: var(--color-primary);
      text-decoration: underline;
      transition: color 150ms;
    }

    td a:hover {
      color: var(--color-primary-hover);
      text-decoration: underline;
    }

    .report-block {
      background: var(--color-bg-3);
      border: 1px solid var(--color-primary);
      border-radius: var(--radius-lg);
      padding: var(--space-24);
      margin-bottom: var(--space-24);
    }

    .report-block h2 {
      margin: 0 0 var(--space-12) 0;
      color: var(--color-primary);
      font-size: var(--font-size-2xl);
    }

    .report-block p {
      margin: 0 0 var(--space-12) 0;
      line-height: 1.6;
    }

    .report-block ol {
      margin: var(--space-16) 0;
      padding-left: var(--space-24);
    }

    .report-block li {
      margin-bottom: var(--space-8);
    }

    .report-link-btn {
      display: inline-block;
      padding: var(--space-12) var(--space-24);
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      border-radius: var(--radius-base);
      text-decoration: none;
      font-weight: var(--font-weight-semibold);
      transition: background 150ms;
      margin-top: var(--space-16);
    }

    .report-link-btn:hover {
      background: var(--color-primary-hover);
    }

    @media (max-width: 600px) {
      .header {
        padding: var(--space-16) 0 var(--space-8) 0;
      }

      #tab-content {
        padding: var(--space-8);
        max-width: 100%;
      }

      th,
      td {
        padding: var(--space-4) var(--space-8);
        font-size: 13px;
      }

      .report-block {
        padding: var(--space-16);
      }

      .tabs {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <h1>ðŸ“Š QA Scheduler</h1>
  </header>

  <nav class="tabs" role="tablist">
    <button class="tab-btn active" data-tab="by-days">By Day</button>
    <button class="tab-btn" data-tab="by-employees">By Employee</button>
    <button class="tab-btn" data-tab="by-platforms">By Platform</button>
    <button class="tab-btn" data-tab="stats">Statistics</button>
  </nav>

  <main id="tab-content"></main>

  <script>
    // Schedule structure: Employee -> [(date, gid, range), ...]
    const scheduleData = {
      "Divine": [
        { date: "10.12", gid: "1745650365", range: "A1:A2" },
        { date: "10.12", gid: "1332544562", range: "A1" },
        { date: "17.12", gid: "1480305097", range: "A15" },
        { date: "16.12", gid: "641959591", range: "A12" }
      ],
      "Emeka": [
        { date: "10.12", gid: "1745650365", range: "A4" },
        { date: "10.12", gid: "1332544562", range: "A1:A2" },
        { date: "17.12", gid: "641959591", range: "A13" }
      ],
      "usmirnova": [
        { date: "10.12", gid: "1332544562", range: "A4" },
        { date: "10.12", gid: "66643352", range: "A1:A2" },
        { date: "11.12", gid: "1745650365", range: "A6" }
      ],
      "imnatalie": [
        { date: "10.12", gid: "66643352", range: "A4" },
        { date: "10.12", gid: "686295720", range: "A1:A3" },
        { date: "12.12", gid: "1745650365", range: "A8" },
        { date: "11.12", gid: "1332544562", range: "A6" }
      ],
      "Roman": [
        { date: "10.12", gid: "686295720", range: "A5" },
        { date: "10.12", gid: "591510053", range: "A1:A3" },
        { date: "15.12", gid: "1745650365", range: "A10" },
        { date: "11.12", gid: "66643352", range: "A6" }
      ],
      "Viktor": [
        { date: "10.12", gid: "591510053", range: "A5" },
        { date: "10.12", gid: "1480305097", range: "A1:A3" },
        { date: "16.12", gid: "1745650365", range: "A12" },
        { date: "15.12", gid: "1332544562", range: "A8" },
        { date: "12.12", gid: "66643352", range: "A8" },
        { date: "11.12", gid: "686295720", range: "A7" }
      ],
      "Nikolay": [
        { date: "10.12", gid: "1480305097", range: "A5" },
        { date: "10.12", gid: "641959591", range: "A1:A2" },
        { date: "17.12", gid: "1745650365", range: "A14" },
        { date: "16.12", gid: "1332544562", range: "A10" },
        { date: "15.12", gid: "66643352", range: "A10" },
        { date: "12.12", gid: "686295720", range: "A9" },
        { date: "11.12", gid: "591510053", range: "A7" }
      ],
      "Asia": [
        { date: "10.12", gid: "641959591", range: "A4" },
        { date: "10.12", gid: "1745650365", range: "A5" },
        { date: "16.12", gid: "66643352", range: "A12" },
        { date: "15.12", gid: "686295720", range: "A11" },
        { date: "12.12", gid: "591510053", range: "A9" },
        { date: "11.12", gid: "1480305097", range: "A7" }
      ],
      "Dariya": [
        { date: "10.12", gid: "1745650365", range: "A7" },
        { date: "10.12", gid: "66643352", range: "A5" },
        { date: "17.12", gid: "66643352", range: "A14" },
        { date: "16.12", gid: "686295720", range: "A13" },
        { date: "15.12", gid: "591510053", range: "A11" },
        { date: "12.12", gid: "1480305097", range: "A9" },
        { date: "11.12", gid: "641959591", range: "A6" }
      ],
      "Julia": [
        { date: "10.12", gid: "686295720", range: "A5" },
        { date: "10.12", gid: "1480305097", range: "A3" },
        { date: "17.12", gid: "686295720", range: "A15" },
        { date: "16.12", gid: "591510053", range: "A13" },
        { date: "15.12", gid: "1480305097", range: "A11" },
        { date: "12.12", gid: "641959591", range: "A8" }
      ],
      "Polina": [
        { date: "10.12", gid: "591510053", range: "A7" },
        { date: "10.12", gid: "1480305097", range: "A5" },
        { date: "17.12", gid: "591510053", range: "A15" },
        { date: "16.12", gid: "1480305097", range: "A13" },
        { date: "15.12", gid: "641959591", range: "A10" }
      ]
    };

    // Platform mapping
    const platforms = {
      "1745650365": "Reddit",
      "1332544562": "HackForums",
      "66643352": "AffLift",
      "686295720": "ServerFault",
      "591510053": "Expert-Exchange",
      "1480305097": "CodeProject",
      "641959591": "StackOverflow"
    };

    const dates = ["10.12", "11.12", "12.12", "15.12", "16.12", "17.12"];
    const employees = Object.keys(scheduleData).sort();

    let activeTab = 'by-days';
    let activeDayIdx = 0;

    function buildUrl(gid, range) {
      return `https://docs.google.com/spreadsheets/d/1sCSuhm5PrfkwoCjg2TyZRISkgpZVhGJL0UiDnn5OC24/edit?gid=${gid}#gid=${gid}&range=${range}`;
    }

    function renderByDaysTab() {
      const dayBtns = dates.map((d, i) =>
        `<button class="day-btn${i === activeDayIdx ? ' active' : ''}" data-day-idx="${i}">${d}</button>`
      ).join('');

      const rows = [];
      
      for (const [emp, entries] of Object.entries(scheduleData)) {
        const matchingEntries = entries.filter(e => e.date === dates[activeDayIdx]);
        for (const entry of matchingEntries) {
          const url = buildUrl(entry.gid, entry.range);
          const platform = platforms[entry.gid];
          rows.push(`
            <tr>
              <td><a href="${url}" target="_blank">${emp}</a></td>
              <td>${platform}</td>
              <td>${dates[activeDayIdx]}</td>
            </tr>
          `);
        }
      }

      let html = `
        <div class="day-tabs">${dayBtns}</div>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Employee</th>
                <th>Platform</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>${rows.join('')}</tbody>
          </table>
        </div>
      `;

      document.getElementById('tab-content').innerHTML = html;
      document.querySelectorAll('.day-btn').forEach((btn, i) => {
        btn.addEventListener('click', () => {
          activeDayIdx = i;
          renderByDaysTab();
        });
      });
    }

    function renderByEmployeesTab() {
      const rows = employees.map(emp => {
        const entries = scheduleData[emp];
        const links = entries.map(e => {
          const url = buildUrl(e.gid, e.range);
          const platform = platforms[e.gid];
          return `<a href="${url}" target="_blank">${platform} (${e.date})</a>`;
        }).join(', ');
        return `
          <tr>
            <td>${emp}</td>
            <td>${links}</td>
            <td>${entries.length}</td>
          </tr>
        `;
      }).join('');

      document.getElementById('tab-content').innerHTML = `
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Employee</th>
                <th>Assignments</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>${rows}</tbody>
          </table>
        </div>
      `;
    }

    function renderByPlatformsTab() {
      const platformMap = {};
      for (const [emp, entries] of Object.entries(scheduleData)) {
        for (const entry of entries) {
          const platform = platforms[entry.gid];
          if (!platformMap[platform]) {
            platformMap[platform] = [];
          }
          platformMap[platform].push({ emp, entry });
        }
      }

      const rows = Object.entries(platformMap).map(([platform, assignments]) => {
        const links = assignments.map(a => {
          const url = buildUrl(a.entry.gid, a.entry.range);
          return `<a href="${url}" target="_blank">${a.emp} (${a.entry.date})</a>`;
        }).join(', ');

        return `
          <tr>
            <td>${platform}</td>
            <td>${links}</td>
            <td>${assignments.length}</td>
          </tr>
        `;
      }).join('');

      document.getElementById('tab-content').innerHTML = `
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Platform</th>
                <th>Assigned To</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>${rows}</tbody>
          </table>
        </div>
      `;
    }

    function renderStatsTab() {
      const stats = employees.map(emp => {
        const entries = scheduleData[emp];
        return { name: emp, total: entries.length };
      }).sort((a, b) => b.total - a.total);

      const rows = stats.map(s => `
        <tr>
          <td>${s.name}</td>
          <td>${s.total}</td>
        </tr>
      `).join('');

      document.getElementById('tab-content').innerHTML = `
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Employee</th>
                <th>Assignments</th>
              </tr>
            </thead>
            <tbody>${rows}</tbody>
          </table>
        </div>
      `;
    }

    function render() {
      if (activeTab === 'by-days') {
        renderByDaysTab();
      } else if (activeTab === 'by-employees') {
        renderByEmployeesTab();
      } else if (activeTab === 'by-platforms') {
        renderByPlatformsTab();
      } else if (activeTab === 'stats') {
        renderStatsTab();
      }
    }

    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        activeTab = btn.getAttribute('data-tab');
        render();
      });
    });

    render();
  </script>
</body>
</html>
